<project name="Sample usage of Salesforce Ant tasks" basedir="." xmlns:sf="antlib:task" default="deploy">

    <property prefix="sfdc" file="build.properties"/>
	
	<presetdef name="deploy">
		<sf:deploy
			debug="${sfdc.debug}" dryRun="false"
			username="${sfdc.username}" password="${sfdc.password}" serverurl="${sfdc.serverurl}" maxPoll="${sfdc.maxPoll}" 
			useProxy="${sfdc.proxy.use}" proxyHost="${sfdc.proxy.host}" proxyPort="${sfdc.proxy.port}" deployRoot="src/main/metadata"/>
	</presetdef>
	
	<target name="init">
		<mkdir dir="tmp"/>
	</target>
	
	<target name="retrieve">
		<sf:retrieve
				debug="${sfdc.debug}" dryRun="false"
				username="${sfdc.username}" password="${sfdc.password}" serverurl="${sfdc.serverurl}" maxPoll="${sfdc.maxPoll}" 
				useProxy="${sfdc.proxy.use}" proxyHost="${sfdc.proxy.host}" proxyPort="${sfdc.proxy.port}" retrieveRoot="src/main/metadata-retrieve">
			<!--
			<sf:excludedObject name="InstalledPackage"/>
			<sf:excludedObject name="Scontrol"/>
			<sf:excludedObject name="AuraDefinitionBundle"/>
			<sf:excludedObject name="ApexComponent"/>
			<sf:excludedObject name="ExternalDataSource"/>
			<sf:excludedObject name="UiPlugin"/>
			<sf:excludedObject name="ReportType"/>
			<sf:excludedObject name="Report"/>
			<sf:excludedObject name="Dashboard"/>
			<sf:excludedObject name="AnalyticSnapshot"/>
			<sf:excludedObject name="QuickAction"/>
			<sf:excludedObject name="FlexiPage"/>
			<sf:excludedObject name="CustomApplicationComponent"/>
			<sf:excludedObject name="CustomPageWebLink"/>
			<sf:excludedObject name="Portal"/>
			<sf:excludedObject name="Letterhead"/>
			<sf:excludedObject name="Flow"/>
			<sf:excludedObject name="AssignmentRules"/>
			<sf:excludedObject name="AutoResponseRules"/>
			<sf:excludedObject name="EscalationRules"/>
			<sf:excludedObject name="PostTemplate"/>
			<sf:excludedObject name="ApprovalProcess"/>
			<sf:excludedObject name="HomePageComponent"/>
			<sf:excludedObject name="HomePageLayout"/>
			<sf:excludedObject name="CustomObjectTranslation"/>
			<sf:excludedObject name="DataCategoryGroup"/>
			<sf:excludedObject name="CallCenter"/>
			<sf:excludedObject name="RemoteSiteSetting"/>
			<sf:excludedObject name="AuthProvider"/>
			<sf:excludedObject name="LeadSharingRules"/>
			<sf:excludedObject name="ContactSharingRules"/>
			<sf:excludedObject name="OpportunitySharingRules"/>
			<sf:excludedObject name="UserSharingRules"/>
			<sf:excludedObject name="SharingSet"/>
			<sf:excludedObject name="Community"/>
			<sf:excludedObject name="ConnectedApp"/>
			<sf:excludedObject name="CustomPermission"/>
			<sf:excludedObject name="SiteDotCom"/>
			<sf:excludedObject name="SamlSsoConfig"/>
			<sf:excludedObject name="SynonymDictionary"/>
			<sf:excludedObject name="XOrgHub"/>
			-->
			
			<!-- include -->
			<sf:typeset name="CustomLabels"/>
			<sf:typeset name="CallCenter"/>
			<sf:typeset name="StaticResource"/>
			<sf:typeset name="ApexPage"/>
			<sf:typeset name="Queue"/>
			<sf:typeset name="Role"/>
			<sf:typeset name="Group"/>
			<sf:typeset name="CustomObject"/>
			<sf:typeset name="Layout"/>
			<sf:typeset name="Document"/>
			<sf:typeset name="CustomTab"/>
			<sf:typeset name="CustomApplication"/>
			<sf:typeset name="EmailTemplate"/>
			<sf:typeset name="Workflow"/>
			<sf:typeset name="ApexClass"/>
			<sf:typeset name="ApexTrigger"/>
			<sf:typeset name="AppMenu"/>
			<sf:typeset name="Profile"/>
			<sf:typeset name="PermissionSet"/>
			<sf:typeset name="CustomSite"/>
			<sf:typeset name="CampaignSharingRules"/>
			<sf:typeset name="CaseSharingRules"/>
			<sf:typeset name="AccountSharingRules"/>
			<sf:typeset name="CustomObjectSharingRules"/>
			<sf:typeset name="Settings"/>
		</sf:retrieve>
	</target>
	
	<target name="deploy" depends="init, deploy01, deploy05, deploy07, deploy09, deploy10, deploy12, deploy15, deploy20, deploy21, deploy30, deploy35"/>
	
	<target name="deploy01">
		<deploy>
			<sf:typeset name="labels"/>
			<sf:typeset name="staticresources"/>
		</deploy>
    </target>
	
	<target name="deploy05">
		<deploy>
			<sf:typeset name="settings"/>
			<sf:typeset name="documents"/>
			<sf:typeset name="callCenters"/>
		</deploy>
    </target>
	
	<target name="deploy07">
		<deploy>
			<sf:typeset name="objects">
				<sf:include name="Picklist_Mapping__c"/>
				<sf:include name="Integration_Picklist__c"/>
				<sf:include name="External_Picklist__c"/>
			</sf:typeset>
		</deploy>
    </target>
	
	<target name="deploy09">
		<deploy>
			<sf:typeset name="objects">
			    <sf:include name="Contact"/>
				<sf:include name="PersonAccount"/>
				<sf:include name="Account"/>
			</sf:typeset>
		</deploy>
    </target>

	<target name="deploy10">
		<deploy>
			<sf:typeset name="objects">
			    <sf:include name=".*__c"/>
				<sf:exclude name="Picklist_Mapping__c"/>
				<sf:exclude name="Integration_Picklist__c"/>
				<sf:exclude name="External_Picklist__c"/>
				<sf:exclude name="SMS_Batch__c"/>
				<sf:exclude name="Retail_Campaign__c"/>
				<sf:exclude name="OB_Task_Handing__c"/>
				<sf:exclude name="Retail_Campaign_Member__c"/>
				<sf:exclude name="Lead__c"/>
				<sf:exclude name="Campaign_Lead__c"/>
				<sf:exclude name="DM_Request__c"/>
			</sf:typeset>
		</deploy>
    </target>
	
	<target name="deploy12">
		<deploy>
			<sf:typeset name="objects">
				<sf:include name="Campaign"/>
			</sf:typeset>
		</deploy>
    </target>
	
	<target name="deploy15">
		<deploy>
			<sf:typeset name="objects">
				<sf:include name="Lead__c"/>
				<sf:include name="Campaign_Lead__c"/>
				<sf:include name="DM_Request__c"/>
				<sf:include name="SMS_Batch__c"/>
				<sf:include name="Retail_Campaign__c"/>
				<sf:include name="OB_Task_Handing__c"/>
				<sf:include name="Retail_Campaign_Member__c"/>
			</sf:typeset>
		</deploy>
    </target>
	
	<target name="deploy20">
		<deploy>
			<sf:typeset name="objects">
				<sf:exclude name="Account"/>
				<sf:exclude name="PersonAccount"/>
				<sf:exclude name="Contact"/>
				<sf:exclude name="Campaign"/>
			    <sf:exclude name=".*__c"/>
			</sf:typeset>
		</deploy>
    </target>
	
	<target name="deploy21">
		<deploy>
			<sf:typeset name="tabs">
				<sf:exclude name="EPA_.*"/>
				<sf:exclude name="Tasks"/>
				<sf:exclude name="Retail_Campaigns"/>
				<sf:exclude name="BMBS_Campaigns"/>
				<sf:exclude name="Campaign_Calendar"/>
				<sf:exclude name="Retail_Campaign__c"/>	
				<sf:exclude name="Retail_Campaign_Calender"/>					
				<sf:exclude name="Yearly_Target"/>
			</sf:typeset>
			<sf:typeset name="layouts"/>
			<sf:typeset name="email"/>
			<sf:typeset name="groups"/>
			<sf:typeset name="queues"/>
			<sf:typeset name="roles"/>
			<sf:typeset name="workflows"/>
		</deploy>
    </target>
	
	<target name="deploy30">
		<deploy>
			<sf:typeset name="classes"/>
			<sf:typeset name="pages">
			</sf:typeset>
			<sf:typeset name="tabs">
				<sf:include name="EPA_.*"/>
				<sf:include name="Tasks"/>
				<sf:include name="Retail_Campaigns"/>
				<sf:include name="BMBS_Campaigns"/>
				<sf:include name="Campaign_Calendar"/>
				<sf:include name="Retail_Campaign__c"/>	
				<sf:include name="Retail_Campaign_Calender"/>				
				<sf:include name="Yearly_Target"/>
			</sf:typeset>
			<sf:typeset name="triggers"/>
		</deploy>
    </target>
	
	<target name="deploy35">
		<deploy>
			<sf:typeset name="applications"/>
			<sf:typeset name="permissionsets"/>
		</deploy>
    </target>
</project>
