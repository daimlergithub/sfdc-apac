<apex:page controller="DealerPickerControllerGeneric" sidebar="false">
   <style type="text/css">
        .custPopup{
            background-color: white;
            border-width: 2px;
            border-style: solid;
            z-index: 9999;
            left: 50%;
            padding:10px;
            position: absolute;
            width: 200px;
            margin-left: -250px;
            top:200px;
        }
        .popupBackground{
            background-color:black;
            opacity: 0.20;
            filter: alpha(opacity = 20);
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 9998;
        }

    </style>
    <script language="javascript">
        function converttoleadfin() {
            alert("Convert to Lead successfully.");
        }
        
        function checkAll(cb){
            var inputElem = document.getElementsByTagName("input");
            for (var i = 0; i < inputElem.length; i++) {
                if (inputElem[i].id.indexOf("checkedone") != -1) {
                    inputElem[i].checked = cb.checked;
                }
            };
        }
    </script>
    <apex:form id="frm">
        <apex:pageBlock title="Share to Dealers" id="block">
            <apex:pageBlockTable value="{!dList}" var="dealerrec">
                <apex:column >
                    <apex:facet name="header"> 
                    <apex:inputCheckbox onclick="checkAll(this)" />
                    </apex:facet>
                    <apex:inputCheckbox value="{!dealerrec.isSelected}"  id="checkedone" />
                </apex:column>
                <apex:column value="{!dealerrec.dealerlist.Name}" headerValue="Dealer Name"/>
                <apex:column value="{!dealerrec.dealerlist.Mobile__c}" headerValue="Dealer Mobile"/>
                <apex:column value="{!dealerrec.dealerlist.Dealer_ND_Code__c}" headerValue="Dealer ND Code"/>
                <apex:column value="{!dealerrec.dealerlist.Dealer_GC_Code__c}" headerValue="Dealer GC Code"/>
                <apex:column value="{!dealerrec.dealerlist.Dealer_Lead_Gate_Keeper__c}" headerValue="Dealer Gate Keeper"/>
            </apex:pageBlockTable>
            <apex:pageBlockButtons location="bottom">
                <apex:commandButton action="{!showPopup}" value="Share To Dealers" rerender="tstpopup"/>
                <apex:commandButton action="{!cancel}" value="Cancel"/>
            </apex:pageBlockButtons>
        
        </apex:pageBlock>
        
        <apex:outputPanel id="tstpopup">
        <apex:outputPanel styleClass="popupBackground" layout="block" rendered="{!displayPopUp}"/>
            <apex:outputPanel styleClass="custPopup" layout="block" rendered="{!displayPopUp}">
                <apex:outputLabel value="Are you Sure to Share"></apex:outputLabel>
                <apex:commandButton value="YES" action="{!SharetoDealers}"  status="status"/> 
                <apex:commandButton value="NO" action="{!cancelURLS}"  status="status"/>
            </apex:outputPanel>
        </apex:outputPanel>
    
    </apex:form>
</apex:page>