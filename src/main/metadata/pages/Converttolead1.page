<!--
Created By          :    Siva Krishna k   
Created Date        :    02.02.2017
Company             :    NTT Data,Inc.
Usage               :    Convert to lead functionality for Campaign Member Records
                          
JIRA NO             :    SFDCJP-1036 & 1041   
-->                 

<apex:page controller="coverttolead1controller" sidebar="false">
     <style type="text/css">
        .custPopup{
            background-color: white;
            border-width: 2px;
            border-style: solid;
            z-index: 9999;
            left: 50%;
            padding:10px;
            position: absolute;
            width: 200px;
            margin-left: -250px;
            top:200px;
        }
        .popupBackground{
            background-color:black;
            opacity: 0.20;
            filter: alpha(opacity = 20);
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 9998;
        }

    </style>
    <script language="javascript">
        function converttoleadfin() {
            alert("Convert to Lead successfully.");
        }
        
        function checkAll(cb){
            var inputElem = document.getElementsByTagName("input");
            for (var i = 0; i < inputElem.length; i++) {
                if (inputElem[i].id.indexOf("checkedone") != -1) {
                    inputElem[i].checked = cb.checked;
                }
            };
        }
    </script>
    <apex:form id="frm">
        <apex:pageBlock title="{!$Label.Convert_Lead}" id="block">
            <!--  <apex:outputText value="{!leadRT}">{!$Label.CL_Lead_Record_Type}</apex:outputText> -->
            <apex:pageBlockTable value="{!campaignMembers}" var="cMember">
                <apex:column >
                    <apex:facet name="header"> 
                        <apex:inputCheckbox onclick="checkAll(this)" />
                    </apex:facet>
                </apex:column>
                <apex:column value="{!cMember.Name}" headerValue="{!$Label.CL_Member_Name}"/>
            </apex:pageBlockTable>
            <apex:pageBlockButtons location="bottom">
                <apex:commandButton action="{!showPopup}" value="{!$Label.Convert_To_Lead}" rerender="tstpopup"/>
                <apex:commandButton action="{!cancel}" value="{!$Label.CL_Cancel}"/>
            </apex:pageBlockButtons>
        </apex:pageBlock>
        <apex:outputPanel id="tstpopup">
        <apex:outputPanel styleClass="popupBackground" layout="block" rendered="{!displayPopUp}"/>
            <apex:outputPanel styleClass="custPopup" layout="block" rendered="{!displayPopUp}">
                <apex:selectList id="chooseRecordtype" value="{!recordtypevalue}" size="1" label="Select Recordtype">
                    <apex:selectOptions Value="{!items}"  /><br/>
                </apex:selectList>
                <apex:commandButton value="Next" action="{!convertToLead}" rerender="out" status="status"/> 
            </apex:outputPanel>
        </apex:outputPanel>
    </apex:form>
</apex:page>